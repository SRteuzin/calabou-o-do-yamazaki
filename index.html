<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Yamazaki Live ‚Äî Agenda & Stream</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<style>
  :root{
    --bg:#071027; --card:#0b1220; --muted:#9fb0c8; --accent:#7c3aed;
    --glass: rgba(255,255,255,0.03);
    --radius:12px; --maxw:1100px;
  }
  *{box-sizing:border-box}
  body{
    margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial; background:linear-gradient(180deg,var(--bg),#021024);
    color:#e6eef8; -webkit-font-smoothing:antialiased;
  }
  .wrap{max-width:var(--maxw);margin:20px auto;padding:18px}
  header{display:flex;align-items:center;gap:16px}
  .brand{display:flex;gap:12px;align-items:center}
  .avatar{width:72px;height:72px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#ef4444);display:flex;align-items:center;justify-content:center;font-weight:800}
  h1{margin:0;font-size:20px}
  .muted{color:var(--muted);font-size:13px}
  main{display:grid;grid-template-columns:1fr 360px;gap:20px;margin-top:18px}
  .card{background:linear-gradient(180deg,var(--card), rgba(11,18,32,0.4));padding:18px;border-radius:var(--radius);box-shadow:0 8px 30px rgba(2,6,23,0.6)}
  .stream{border-radius:12px;overflow:hidden}
  iframe{width:100%;height:420px;border:0;background:#000}
  .meta{display:flex;gap:10px;align-items:center;margin-top:10px}
  .cta{background:var(--glass);padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);cursor:pointer}
  .status{display:inline-block;width:10px;height:10px;border-radius:50%;background:red;box-shadow:0 0 8px rgba(0,0,0,0.6)}
  .agenda-list{display:grid;gap:10px;margin-top:12px}
  .event{display:flex;gap:12px;align-items:flex-start;padding:12px;border-radius:10px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);transition:transform .18s,box-shadow .18s;cursor:default}
  .event:hover{transform:translateY(-6px);box-shadow:0 14px 34px rgba(2,6,23,0.6)}
  .date{min-width:86px;background:rgba(255,255,255,0.02);border-radius:8px;padding:8px;text-align:center;font-weight:700}
  .etype{font-size:13px;color:var(--muted);margin-top:6px}
  .title{font-weight:700}
  .desc{color:var(--muted);font-size:13px;margin-top:6px}
  .mini-bios{margin-top:8px}
  .mini-bios li{margin-bottom:6px;list-style:none;padding:6px;border-radius:8px}
  .mini-bios li:hover{background:rgba(124,58,237,0.06)}
  .tooltip{position:relative}
  .tooltip[data-tip]:hover::after{
    content:attr(data-tip);
    position:absolute;left:calc(100% + 10px);top:50%;transform:translateY(-50%);
    background:var(--accent);color:#fff;padding:6px 10px;border-radius:8px;white-space:nowrap;font-size:12px;
    box-shadow:0 6px 18px rgba(124,58,237,0.18);z-index:60;
  }
  .rsvp{margin-left:auto;background:transparent;border:1px solid rgba(255,255,255,0.05);padding:6px 10px;border-radius:8px;cursor:pointer}
  .rsvp.active{background:linear-gradient(90deg,var(--accent),#ef4444);color:#fff;border:0}
  .socials{display:flex;gap:8px;margin-top:12px}
  .socials a{color:var(--muted);text-decoration:none}
  .contact{margin-top:12px}
  .contact input, .contact textarea{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit;margin-top:8px}
  .contact button{margin-top:8px;padding:10px 12px;border-radius:8px;border:0;background:linear-gradient(90deg,var(--accent),#ef4444);color:#fff;cursor:pointer}
  footer{margin-top:18px;color:var(--muted);text-align:center;padding:8px;font-size:13px}
  @media(max-width:980px){main{grid-template-columns:1fr} .stream iframe{height:320px}}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="avatar">Y</div>
        <div>
          <h1>Yamazaki Live ‚Äî Vibes & Agenda</h1>
          <div class="muted">„Çπ„Éà„É™„Éº„Éü„É≥„Ç∞ ‚Ä¢ Vocaloid ‚Ä¢ Jogos em nuvem ‚Ä¢ Collabs</div>
        </div>
      </div>

      <div style="margin-left:auto;display:flex;gap:10px;align-items:center">
        <div class="muted">Canal:</div>
        <div style="display:flex;align-items:center;gap:8px">
          <input id="channelInput" placeholder="@yamazaki21 ou UCxxxxxx" style="padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit">
          <button id="applyChannel" class="cta">Aplicar</button>
        </div>
      </div>
    </header>

    <main>
      <!-- STREAM + A√á√ïES -->
      <section class="card stream">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <h2 style="margin:0">üé• Stream</h2>
          <div style="display:flex;gap:8px;align-items:center">
            <span class="muted">Status:</span>
            <span class="status" id="liveDot" title="Offline"></span>
            <button id="toggleLive" class="cta" style="margin-left:6px">Alternar AO VIVO</button>
          </div>
        </div>

        <div style="margin-top:12px" class="stream-embed">
          <!-- substitua o channel param pelo seu ID (UC...) para embed ao vivo funcionar -->
          <iframe id="ytFrame" src="https://www.youtube.com/embed/live_stream?channel=UCxxxxxx" allowfullscreen allow="autoplay"></iframe>
        </div>

        <div class="meta">
          <button id="openYT" class="cta">Abrir canal no YouTube</button>
          <button id="copyLink" class="cta">Copiar link do canal</button>
          <div style="margin-left:auto" class="muted">Dica: use OBS com esta p√°gina como navegador para overlays.</div>
        </div>

        <div style="margin-top:14px">
          <h4 style="margin:0 0 8px 0">Pr√≥ximas lives (vis√£o compacta)</h4>
          <div id="compactList" style="display:flex;gap:8px;flex-wrap:wrap"></div>
        </div>
      </section>

      <!-- SIDEBAR: AGENDA + BIOS + COLLAB -->
      <aside class="card sidebar">
        <h4>Agenda para os pr√≥ximos 3 meses</h4>
        <div class="agenda-list" id="agenda"></div>

        <h4 style="margin-top:14px">Mini-bios</h4>
        <ul class="mini-bios">
          <li class="tooltip" data-tip="O alvo das zoeiras do Yamazaki">Epic ‚Äî ruim no Fortnite, tilta f√°cil.</li>
          <li class="tooltip" data-tip="Frases aleat√≥rias que sempre fazem rir">Clover ‚Äî aleat√≥rio demais, frases que estouram.</li>
          <li class="tooltip" data-tip="Gente boa e tranquilo">Consta ‚Äî gente boa demais, na moral.</li>
          <li class="tooltip" data-tip="Pouco falante, presen√ßa limpa">Front ‚Äî pouco falante, mas da hora.</li>
          <li class="tooltip" data-tip="Parceiro do trabalho, imprevis√≠vel">Jesus de Patinete ‚Äî maluco imprevis√≠vel.</li>
          <li class="tooltip" data-tip="Gamer raiz com playlists impec√°veis">Pedro49Gamer ‚Äî gamer raiz e playlist master.</li>
          <li class="tooltip" data-tip="Chique Chique da Bahia, explode f√°cil">Juju ‚Äî Chique Chique da Bahia, explode f√°cil.</li>
        </ul>

        <h4 style="margin-top:14px">Quero collab? Fala aqui</h4>
        <div class="muted">Se voc√™ quer gravar / collab com o Yamazaki, manda uma mensagem r√°pida ‚Äî ele l√™.</div>
        <div class="contact">
          <input id="collabName" placeholder="Seu nome / @nick" />
          <input id="collabContact" placeholder="Discord / Insta / Email" />
          <textarea id="collabNote" rows="3" placeholder="Ideia curtinha (ex: jogo em nuvem, m√∫sica, cosplay test)"></textarea>
          <button id="sendCollab">Enviar pedido de collab</button>
          <div id="collabResult" class="muted" style="margin-top:8px"></div>
        </div>

        <div class="socials" style="margin-top:12px">
          <a id="igLink" href="https://www.instagram.com/yamazaki21" target="_blank">Instagram</a>
          <a id="ytLink" href="https://www.youtube.com/@yamazaki21" target="_blank">YouTube</a>
        </div>
      </aside>
    </main>

    <footer>
      ¬© 2025 Yamazaki ‚Ä¢ Agenda gerada automaticamente ‚Ä¢ Hover nas bios pra spoilerzinho. „ÅÇ„Çä„Åå„Å®„ÅÜ
    </footer>
  </div>

<script>
/* ---------- Util: Datas e gera√ß√£o de agenda (pr√≥ximos 90 dias) ---------- */
const types = [
  {tag:'Cloud Game Night', desc:'Jogos leves via nuvem (Stadia-like / Cloud Play). √ìtimo pra PC fraco.'},
  {tag:'Noite Filos√≥fica', desc:'Papo aberto com chat sobre filosofia, animes e ideias.'},
  {tag:'Vocaloid Covers', desc:'Canta√ßos e reacts de Vocaloid e Ado.'},
  {tag:'Collab Jam', desc:'Convidado + chat: multiplayer ou conversa com outro criador.'},
  {tag:'Cosplay Test', desc:'Teste de cosplay ao vivo (making-of, adapta√ß√µes simples).'},
  {tag:'Chill & Game', desc:'Jogos casuais + bate-papo, vibes relax.'}
];

function addDays(date, days){ const d=new Date(date); d.setDate(d.getDate()+days); return d; }
function fmt(d){
  return d.toLocaleDateString('pt-BR', {day:'2-digit', month:'2-digit'}) + ' ‚Ä¢ ' + d.toLocaleTimeString('pt-BR',{hour:'2-digit',minute:'2-digit'});
}

function randomBetween(min,max){ return Math.floor(Math.random()*(max-min+1))+min; }

// generate events across next 90 days: roughly 2‚Äì4 events per week but keep it light
function generateAgenda(){
  const start = new Date();
  const end = addDays(start, 90);
  const events = [];
  let cur = new Date(start);
  // pick 24 events distributed
  for(let i=0;i<24;i++){
    const offset = randomBetween(2,12) + i*3; // spread out
    const d = addDays(start, offset);
    if(d > end) break;
    // time choices evening
    const hour = [18,19,20,21,22][Math.floor(Math.random()*5)];
    d.setHours(hour, 0, 0, 0);
    // pick type
    const t = types[Math.floor(Math.random()*types.length)];
    // small titles
    const title = t.tag + (Math.random()<0.3? ' ‚Äî tema surpresa':'');
    events.push({date:d, title, desc:t.desc});
  }
  // sort
  events.sort((a,b)=>a.date-b.date);
  return events;
}

/* ---------- Render agenda UI ---------- */
const agendaEl = document.getElementById('agenda');
const compactList = document.getElementById('compactList');

let events = generateAgenda();

function renderAgenda(){
  agendaEl.innerHTML='';
  compactList.innerHTML='';
  events.forEach((ev, idx)=>{
    const el = document.createElement('div');
    el.className='event';
    // date block
    const dateBlock = document.createElement('div');
    dateBlock.className='date';
    dateBlock.innerHTML = `<div style="font-size:12px;color:var(--muted)">${ev.date.toLocaleDateString('pt-BR',{weekday:'short'})}</div>
                           <div style="font-size:18px;margin-top:6px">${ev.date.toLocaleDateString('pt-BR',{day:'2-digit',month:'2-digit'})}</div>
                           <div style="font-size:12px;color:var(--muted);margin-top:6px">${ev.date.toLocaleTimeString('pt-BR',{hour:'2-digit',minute:'2-digit'})}</div>`;
    // content
    const content = document.createElement('div');
    content.style.flex='1';
    content.innerHTML = `<div class="title">${ev.title}</div><div class="etype">${ev.desc}</div>`;
    const right = document.createElement('div');
    right.style.display='flex'; right.style.flexDirection='column'; right.style.alignItems='flex-end';
    // RSVP button
    const btn = document.createElement('button');
    btn.className='rsvp';
    btn.textContent = isRSVPed(idx)? 'T√° dentro' : 'Quero ir';
    if(isRSVPed(idx)) btn.classList.add('active');
    btn.onclick = ()=>{
      toggleRSVP(idx);
      btn.classList.toggle('active');
      btn.textContent = isRSVPed(idx)? 'T√° dentro' : 'Quero ir';
    };
    right.appendChild(btn);
    el.appendChild(dateBlock); el.appendChild(content); el.appendChild(right);
    agendaEl.appendChild(el);

    // compact card
    const c = document.createElement('div');
    c.style.background='rgba(255,255,255,0.02)'; c.style.padding='8px 10px'; c.style.borderRadius='8px';
    c.style.fontSize='13px'; c.style.display='inline-block';
    c.textContent = ev.date.toLocaleDateString('pt-BR',{day:'2-digit',month:'2-digit'})+' ‚Äî '+ev.title;
    compactList.appendChild(c);
  });
}

/* ---------- RSVP local storage ---------- */
function rsvpKey(){ return 'yamazaki_rsvp_v1'; }
function getRSVPs(){ try{ return JSON.parse(localStorage.getItem(rsvpKey())||'{}'); }catch(e){return{};} }
function isRSVPed(i){ const r=getRSVPs(); return !!r[i]; }
function toggleRSVP(i){
  const r=getRSVPs(); r[i]=!r[i]; localStorage.setItem(rsvpKey(), JSON.stringify(r));
}

/* ---------- Collab form (simples, salva local e mostra resumo) ---------- */
document.getElementById('sendCollab').addEventListener('click', ()=>{
  const name = document.getElementById('collabName').value.trim();
  const contact = document.getElementById('collabContact').value.trim();
  const note = document.getElementById('collabNote').value.trim();
  const out = document.getElementById('collabResult');
  if(!name || !contact){ out.textContent = 'Preenche nome e contato, mano.'; return; }
  // store in localStorage (simples)
  const key = 'yamazaki_collabs_v1';
  const old = JSON.parse(localStorage.getItem(key)||'[]');
  old.push({name,contact,note,when:new Date().toISOString()});
  localStorage.setItem(key, JSON.stringify(old));
  out.textContent = 'Pedido enviado ‚Äî vou ver quando abrir o PC. Valeu!';
  document.getElementById('collabName').value=''; document.getElementById('collabContact').value=''; document.getElementById('collabNote').value='';
});

/* ---------- Live toggle + quick copy/open channel ---------- */
const liveDot = document.getElementById('liveDot');
const headerStatus = document.querySelector('header h1') || document.querySelector('header h2');
let liveState = false;
document.getElementById('toggleLive').addEventListener('click', ()=>{
  liveState = !liveState;
  liveDot.style.background = liveState? 'limegreen' : 'red';
  liveDot.title = liveState? 'Ao Vivo' : 'Offline';
  document.querySelector('.stream h2').textContent = liveState? 'üé• Live ‚Äî AO VIVO' : 'üé• Stream';
});

// copy / open channel (uses ytLink default)
document.getElementById('openYT').addEventListener('click', ()=>{
  const url = document.getElementById('ytLink').href;
  window.open(url,'_blank');
});
document.getElementById('copyLink').addEventListener('click', ()=>{
  const url = document.getElementById('ytLink').href;
  navigator.clipboard?.writeText(url).then(()=>alert('Link copiado!'),()=>alert('N√£o rolou copiar, cola manualmente.'));
});

/* ---------- Channel input: aceita @username or UC... or full url; updates iframe and links ---------- */
function normalizeChannelInput(v){
  v = v.trim();
  if(!v) return null;
  // if it's a full url, try to extract channel or @
  try{
    if(v.startsWith('http')) {
      const u = new URL(v);
      if(u.pathname.includes('/channel/')) return u.pathname.split('/channel/')[1];
      if(u.pathname.includes('/@')) return u.pathname.split('/@')[1];
      // fallback: last segment
      return u.pathname.split('/').filter(Boolean).pop();
    }
  }catch(e){}
  // if starts with UC
  if(v.startsWith('UC')) return v;
  if(v.startsWith('@')) return v.substring(1);
  return v;
}

document.getElementById('applyChannel').addEventListener('click', ()=>{
  const raw = document.getElementById('channelInput').value;
  const norm = normalizeChannelInput(raw);
  if(!norm){ alert('Cola o @nome ou o ID UC...'); return; }
  // update iframe: if norm starts with UC use channel param, otherwise keep link to username
  const iframe = document.getElementById('ytFrame');
  if(norm.startsWith('UC')){
    iframe.src = `https://www.youtube.com/embed/live_stream?channel=${norm}`;
    document.getElementById('ytLink').href = `https://www.youtube.com/channel/${norm}`;
  }else{
    // try embed by username: using channel url with @ might still work as link, embed uses channel id, but set link anyway
    iframe.src = `https://www.youtube.com/embed/live_stream?channel=${norm}`; // leave placeholder if not UC
    document.getElementById('ytLink').href = `https://www.youtube.com/@${norm}`;
  }
  document.getElementById('igLink').href = 'https://www.instagram.com/yamazaki21';
  alert('Canal aplicado ‚Äî testa o embed (se n√£o carregar, use o ID UC...)');
});

/* ---------- Inicializa ---------- */
events = generateAgenda();
renderAgenda();

/* Preenche compactList e agenda j√° geradas */
/* Voc√™ pode chamar renderAgenda() novamente quando editar eventos via devtools */
</script>
</body>
</html>
